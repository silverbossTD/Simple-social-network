<% if(locals.errors) { %>
	<% locals.errors.forEach(function(error) { %>
		<div class="alert alert-danger"> <%= error %> </div>
	<% }); %>
<% } %>

<% if(locals.success) { %>
	<% locals.success.forEach(function(success) { %>
		<div class="alert alert-success"> <%= success %> </div>
	<% }); %>
<% } %>

<form method="POST" action="/profile/edit" class="container" enctype="multipart/form-data">
    <h1><%= title %></h1>
    <div class="card py-5">
        <div class="inputs px-4">
            <span class="text-uppercase">Username:</span>
            <input maxlength="20" type="text" name="username" class="form-control" <% if(locals.infomation) {%> value="<%= locals.infomation[2] %>" <% } %> value="">

            <span class="text-uppercase">Description:</span>
            <textarea maxlength="250" class="form-control" id="description" name="description" rows="10"><%= locals.infomation[5] %></textarea>
        </div>
        <div class="mt-3 px-4"> <span class="text-uppercase name">Profile Picture</span>
            <div class="d-flex flex-row align-items-center mt-2"> <img <% if(locals.infomation) {%> src="<%= locals.infomation[6] %>" <% } %> width="60" class="rounded">
                <div class="ml-3"> <input type="file" class="form-control" id="file-upload" /></div>
                <input class="ml-3" name="avatar" id="file-name" value="<%= locals.infomation[6] %>" style="display:none" />
            </div>
            <span class="text-uppercase">Password:</span>
            <input type="password" name="password" class="form-control" id="password">
        </div>
        <div class="mt-3 px-4 d-flex justify-content-between align-items-center"> <button class="btn btn-primary">Edit Profile</button> </div>
    </div>
</form>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $("#file-upload").change(function() {
        $("#file-name").text(this.files[0].name);
    });
</script>
